<template>
<div class="modal-dialog">
    <div class="modal-content">
        <form name="matchForm" submit.trigger="controller.ok('Ok')" class="modal-form form-horizontal">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true" click.trigger="controller.cancel()">&times;</button>
                <h3>${title} <!--<small>Id: ${match.id}</small>--></h3>
            </div>
            <div class="modal-body">

                    <div class="row">
                        <label class="span1">Winner:</label>
                        <div class="offset1">
                            <label class="radio"><input type="radio" checked.bind="match.playerId" value.bind="player1.id" /> ${player1.name} ${player1.rank}</label><br />
                            <label class="radio"><input type="radio" checked.bind="match.playerId" value.bind="player2.id" /> ${player2.name} ${player2.rank}</label>
                        </div>
                    </div>
                    <div class="row">
                        <label class="span4">
                            Score:
                            <input type="text" name="score" value.bind="match.score" class="span3" />
                        </label>
                        <!--<span class="error" show.bind="matchForm.name.$error.required">Required!</span>-->
                        <label class="checkbox span1"><input type="checkbox" checked.bind="match.wo" />WO</label>
                    </div>
                    <div class="row">
                        <div class="offset1">
                            <label class="checkbox span2"><input type="checkbox" checked.bind="match.canceled" />Canceled</label>
                            <label class="checkbox span2"><input type="checkbox" checked.bind="match.vainqDef" />Vainqueur defaillant</label>
                        </div>
                    </div>
                <div tabset="">
                    <div tab="" heading="Planning">
                        <div class="row">
                            <label class="span3">Court: <select value.bind="match.place" class="span2">
                                <option repeat.for="place of places">${place}</option> 
                                </select></label>
                            <label class="span3">Date: <input type="datetime" value.bind="match.date" class="span2" /></label>
                        </div>
                        <div class="row">
                            <label class="span2">${player1.name} :</label>
                            <label class="checkbox span2"><input type="checkbox" checked.bind="match.aware1" />Aware</label>
                            <label class="checkbox span2"><input type="checkbox" checked.bind="match.receive1" />Receive</label>
                        </div>
                        <div class="row">
                            <label class="span2">${player2.name} :</label>
                            <label class="checkbox span2"><input type="checkbox" checked.bind="match.aware2" />Aware</label>
                            <label class="checkbox span2"><input type="checkbox" checked.bind="match.receive2" />Receive</label>
                        </div>
                    </div>
                    <div tab="" heading="Comment">
                        <div class="row">
                            <label class="span5">Format: <select value.bind="match.matchFormat" class="span4">
                                <option repeat.for="(key,matchFormat) of matchFormats" name.bind="key">${matchFormat.name}</option>
                                </select></label>
                        </div>

                        <div class="row">
                            <label class="span6">Note: <textarea value.bind="match.note" class="span5"></textarea></label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="submit" disabled.bind="!!matchForm.$error.required" class="btn btn-primary btn-success ${!!matchForm.$error.required ? 'disabled':''}"><i class="glyphicon glyphicon-ok-sign icon-white"></i> OK</button>
                <!--<a href="#" click.trigger="controller.ok('Del')"><i class="glyphicon glyphicon-trash"></i></a>-->
            </div>
        </form>
    </div>
</div>
</template>