<!DOCTYPE html>
<html lang="en" ng-app="jat">
<head>
    <meta charset="utf-8">
    <title>JA-Tennis</title>
    <style type="text/css">
        .ng-cloak {
            display: none;
        }
    </style>
    <link rel="stylesheet" href="../lib/ui-bootstrap/assets/bootstrap.css" />
    <!--
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
    -->
    <link rel="stylesheet" href="style/app.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>
<body ng-controller="mainCtrl as main">

    <!--<div id="splash" ng-if="false">Loading application...</div>-->
    <!--    <ul class="nav nav-pills">
        <li class="active"><a href="#/players">players</a></li>
        <li class="active"><a href="#/events">events</a></li>
    </ul>-->

    <div class="ng-cloak">

        <div class="btn-toolbar">
            <div class="btn-group">
                <!--<button ng-click="main.loadTournament()" class="btn"><i class="icon2-open"></i> Open</button>-->
                <button ng-click="main.saveTournament()" class="btn"><i class="icon2-save"></i> Save</button>
            </div>
            <div class="btn-group">
                <button ng-disabled="!main.undo.canUndo()" ng-click="main.doUndo()" class="btn"><i class="icon2-undo" title="Undo {{main.undo.messageUndo()}}"></i></button>
                <button ng-disabled="!main.undo.canRedo()" ng-click="main.doRedo()" class="btn"><i class="icon2-redo" title="Redo {{main.undo.messageRedo()}}"></i></button>
            </div>
            <button ng-click="main.addPlayer()" class="btn"><i class="icon-plus"></i> Add player</button>
        </div>

        <div list-players="main.selection.tournament.players"></div>

        <div list-events="main.selection.tournament.events"></div>

        <div ng-init="expandDraw=true">
            <i ng-class="{'icon-plus-sign':!expandDraw, 'icon-minus-sign':expandDraw}" ng-click="expandDraw=!expandDraw"></i>
            <label>
                Event: <i class="icon2-info" ng-click="main.editEvent(main.selection.event)"></i>
                <select ng-model="main.selection.event" ng-options="event.name for event in main.selection.tournament.events"></select>
                <button ng-click="main.addEvent()" class="btn"><i class="icon-plus"></i> Add event</button>
            </label>
            <label>
                Draw: <i class="icon2-info" ng-click="main.editDraw(main.selection.event, main.selection.draw)"></i>
                <select ng-model="main.selection.draw" ng-options="draw.name for draw in main.selection.event.draws"></select>
                <div class="btn-group">
                    <button ng-click="main.addDraw(main.selection.event)" class="btn" ng-disabled="!main.selection.event"><i class="icon-plus"></i> Add draw</button>
                    <button type="button" ng-click="main.generateDraw(main.selection.draw, 1)" ng-disabled="!main.selection.draw" class="btn"><i class="icon2-draw-generate"></i> Generate</button>
                </div>
                <div class="btn-group">
                    <button type="button" ng-click="main.generateDraw(main.selection.draw, 2)" ng-disabled="!main.selection.draw || main.selection.draw.type >= 2" class="btn" title="Phased draw more"><i class="icon2-draw-left"></i></button>
                    <button type="button" ng-click="main.generateDraw(main.selection.draw, 3)" ng-disabled="!main.selection.draw || main.selection.draw.type >= 2" class="btn" title="Phased draw less"><i class="icon2-draw-bottom"></i></button>
                    <button type="button" ng-click="main.generateDraw(main.selection.draw, 4)" ng-disabled="!main.selection.draw" class="btn" title="Mix the players"><i class="icon2-random"></i></button>
                </div>
            </label>
        </div>

        <div draw="main.selection.draw" ng-show="expandDraw"></div>

        <hr />

        <!-- -->

        <div app-version></div>

    </div>

    <!-- In production use:
        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.5/angular.min.js"></script>
        -->
    <script src="../lib/angular/angular.js"></script>
    <!--script src="lib/bootstrap/js/bootstrap.js"></!--script-->
    <script src="../lib/ui-bootstrap/ui-bootstrap-tpls-0.8.0.min.js"></script>

    <!--<script src="JATennis.js"></script>-->

    <script src="app.js"></script>

    <script src="utils/checkList.js"></script>

    <script src="services/version.js"></script>
    <script src="services/undo.js"></script>
    <script src="services/find.js"></script>
    <script src="services/selection.js"></script>
    <script src="services/fft.js"></script>
    <script src="services/mainLib.js"></script>
    <script src="services/tournamentLib.js"></script>
    <script src="services/drawLib.js"></script>
    <script src="services/knockoutLib.js"></script>
    <script src="services/roundrobinLib.js"></script>

    <script src="models/model.js"></script>
    <script src="models/player.js"></script>
    <script src="models/tournament.js"></script>
    <script src="models/event.js"></script>
    <script src="models/draw.js"></script>
    <script src="models/match.js"></script>
    <script src="models/box.js"></script>
    <script src="models/playerIn.js"></script>

    <script src="main.js"></script>

    <script src="player/listPlayers.js"></script>
    <script src="player/dialogPlayer.js"></script>

    <script src="event/listEvents.js"></script>
    <script src="event/dialogEvent.js"></script>

    <script src="draw/drawDraw.js"></script>
    <script src="draw/drawBox.js"></script>
    <script src="draw/dialogDraw.js"></script>
    <script src="draw/dialogMatch.js"></script>

</body>
</html>
